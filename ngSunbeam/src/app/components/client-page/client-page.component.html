
<!-- ELDER LIST VIEW -->
<div class="container" *ngIf="!selected && !selectedForm">
  <div class="card mb-4 pt-1 pl-2" style="max-width: 540px;" *ngFor="let elder of elders" (click) = "selected = elder">
    <div class="row g-0">
      <div class="col-md-4">
        <img src="{{elder.imageUrl}}" class="img-fluid rounded-3" alt="...">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h3 class="ml-3 mt-0">{{elder.firstName}} {{elder.lastName}} - {{elder.elderOverview}}</h3><br>

            <h3 class="ml-3">{{elder.gender}}</h3>



          <p class="card-text"><small class="text-muted">{{elder.lastUpdate}}</small></p>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- ELDER DETAIL VIEW -->
<div class="container" *ngIf="selected">
  <button mat-raised-button color="primary" class="mb-2" (click)="selected = null">View All</button>
  <div class="profile-header">
    <div class="profile-img">
      <img src="{{selected.imageUrl}}" width="200" alt="Profile Image">
    </div>
    <div class="profile-nav-info">
      <h4 class="address">{{selected.firstName}} {{selected.lastName}}</h4>
      <h4 class="address">{{selected.elderOverview}}</h4>
    </div>
  </div>

  <div class="main-bd">
    <div class="left-side">
      <div class="profile-side">
        <p class="user-mail">{{selected.elderCaretakers}}</p>
        <div class="user-bio">
          <h3>Bio</h3>
          <p class="bio">Birthday: {{selected.birthdate}}</p>
          <p class="bio">Height: {{selected.height}}ft</p>
          <p class="bio">Weight: {{selected.weight}}lbs</p>
          <p class="bio">Joined on: {{selected.createDate}}</p>
        </div>
      </div>
    </div>


    <div class="right-side">
      <div class="container">
        <div class="p-5 bg-white rounded shadow mb-5" id="tabs-container">
          <ul id="myTab" role="tablist" class="nav nav-tabs nav-pills flex-column flex-sm-row text-center bg-light border-0 rounded-nav">
            <li class="nav-item flex-sm-fill">
              <a id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true" class="nav-link border-0 text-uppercase font-weight-bold active">Feed</a>
            </li>
          </ul>


          <div id="myTabContent" class="tab-content">
            <div id="home" role="tabpanel" aria-labelledby="home-tab" class="tab-pane fade px-4 py-5 show active">

              <h4 class="mt-3">Appointments</h4>
              <ol class="list-group list-group-numbered">
                <li class="list-group-item d-flex justify-content-between align-items-start pt-2 pr-2 pl-2" *ngFor="let appointment of selected.appointments">
                  <div class="ms-2 me-auto">
                    <li>{{appointment.description}} on {{appointment.apptDate}}</li>
                  </div>
                  <i class="fa-solid fa-circle-xmark" style="color: #dc0914" (click)="deleteAppointment(appointment.id)"></i>
                </ol>

                <h4 class="mt-3">Reminders</h4>
                <ol class="list-group list-group-numbered">
                  <div *ngFor="let appointment of selected.appointments">
                  <li class="list-group-item d-flex justify-content-between align-items-start pt-2 pr-2 pl-2" *ngFor="let reminder of appointment.reminders">Date: {{reminder.reminderDate}} - {{reminder.description}}
                    <i class="fa-solid fa-circle-xmark" style="color: #dc0914"  (click)="deleteReminder(reminder.id)"></i></li>

                  </div>
                </ol>

                <h4 class="mt-3">Medication</h4>
                <ol class="list-group list-group-numbered">
                  <div *ngFor="let medication of selected.medications">
                    <li class="list-group-item d-flex justify-content-between align-items-start pl-2 pt-2 pr-2">{{medication.medicationName}} {{medication.frequency}} @ {{medication.dose}} - Due to {{medication.healthCondition}}
                      <i class="fa-solid fa-circle-xmark" style="color: #dc0914"  (click)="deleteMedication(medication.id)"></i>
                    </li>
                  </div>
                </ol>
             </div>
             <div class="text-center">
              <mat-expansion-panel hideToggle class="m-3">
                <mat-expansion-panel-header>
                  <mat-panel-title>Add Appointment</mat-panel-title>
                  <mat-panel-description>Create an appointment for the client</mat-panel-description>
                </mat-expansion-panel-header>
                <!-- desc, date, time, title -->
                <form>

                  <mat-form-field class="w-75" appearance="fill">
                    <mat-label>Title</mat-label>
                    <input matInput type="text" [(ngModel)]="newAppointment.title" name="title">
                  </mat-form-field><br>


                  <mat-form-field class="w-75" appearance="fill">
                    <mat-label>Description</mat-label>
                    <textarea matInput type="text" [(ngModel)]="newAppointment.description" name="description"></textarea>
                  </mat-form-field><br>


                  <mat-form-field class="w-75" appearance="fill">
                    <mat-label>Choose a date</mat-label>
                    <input matInput [matDatepicker]="picker" [(ngModel)]="newAppointment.apptDate" name="date">
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field><br>


                  <mat-form-field class="w-75" appearance="fill">
                    <mat-label>Time</mat-label>
                    <input type="time" matInput [(ngModel)]="newAppointment.apptTime" name="time">
                  </mat-form-field><br>

                  <button type="submit" (click)="addAppointment()" mat-button>Add</button>
                </form>
              </mat-expansion-panel>

              <mat-expansion-panel hideToggle class="m-3">
                <mat-expansion-panel-header>
                  <mat-panel-title>Add Reminder</mat-panel-title>
                  <mat-panel-description>Add an appointment for the client</mat-panel-description>
                </mat-expansion-panel-header>
                <p>This is the primary content of the panel.</p>
              </mat-expansion-panel>

              <mat-expansion-panel hideToggle class="m-3">
                <mat-expansion-panel-header>
                  <mat-panel-title>Add Medication</mat-panel-title>
                  <mat-panel-description>Add a medication for the client to track</mat-panel-description>
                </mat-expansion-panel-header>
                <p>This is the primary content of the panel.</p>
              </mat-expansion-panel>
              </div>


          </div>
        </div>
      </div>
    </div>
  </div>
</div>



